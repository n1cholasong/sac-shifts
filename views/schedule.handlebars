<div class="schedule container card glass p-4 my-5">
    <div class="d-flex justify-content-between align-items-center mb-5">
        <h1 class="m-0">{{title}}</h1>
        <form method="GET" class="row h-100 me-1">
            <div class="col">
                <select id="month" name="month" class="form-select">
                    <option selected disabled>Select Month</option>
                    {{#each month}}
                    <option value="{{@index}}">{{this}}</option>
                    {{/each}}
                </select>
            </div>
            <button type="submit" class="btn btn-primary col">Get Schedule</button>
        </form>
    </div>
</div>
{{#if selectedMonth includeZero=true}}
<div class="schedule container-fluid">
    <div class="row">
        <div class="col w-50">
            <h3 class="text-center">Makerspace Duty Roster</h3>
            <table class="table table-sm text-center table-bordered">
                <thead>
                    <tr class="table-secondary">
                        <th>Sun</th>
                        <th>Mon</th>
                        <th>Tue</th>
                        <th>Wed</th>
                        <th>Thu</th>
                        <th>Fri</th>
                        <th>Sat</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each weeklySchedule}}
                    <tr class="table-light">
                        {{#each this}}
                        {{#ifEquals this.date ''}}
                        <th></th>
                        {{else}}
                        <th>{{formatDate this.date 'D MMM'}}</th>
                        {{/ifEquals}}
                        {{/each}}
                    </tr>
                    <tr>
                        {{#each this}}
                        <td class="py-3">
                            {{#ifEquals this.date ''}}
                            <div></div>
                            {{else}}
                            <div>
                                {{#unless (isWeekend this.date)}}
                                <div class="mb-3">
                                    <h6>Shfit 1</h6>
                                    <div class="SAC">
                                        <ol>
                                            {{#each this.shift1}}
                                            <li class="{{#isSAC this.fields.FullName}}{{/isSAC}}">
                                                {{this.fields.FullName}}
                                            </li>
                                            {{/each}}
                                        </ol>
                                    </div>
                                </div>
                                <div>
                                    <h6>Shfit 2</h6>
                                    <div class="SAC">
                                        <ol>
                                            {{#each this.shift2}}
                                            <li class="{{#isSAC this.fields.FullName}}{{/isSAC}}">
                                                {{this.fields.FullName}}
                                            </li>
                                            {{/each}}
                                        </ol>
                                    </div>
                                </div>
                                {{/unless}}
                            </div>
                            {{/ifEquals}}
                        </td>
                        {{/each}}
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
        <div class="col w-50">
            <h3 class="text-center">Unallocated Shifts</h3>
            <table class="table table-sm text-center table-bordered">
                <thead>
                    <tr class="table-secondary">
                        <th>Sun</th>
                        <th>Mon</th>
                        <th>Tue</th>
                        <th>Wed</th>
                        <th>Thu</th>
                        <th>Fri</th>
                        <th>Sat</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each weeklyRemainder}}
                    <tr class="table-light">
                        {{#each this}}
                        {{#ifEquals this.dateString ''}}
                        <th></th>
                        {{else}}
                        <th>{{formatDate this.dateString 'D MMM'}}</th>
                        {{/ifEquals}}
                        {{/each}}
                    </tr>
                    <tr>
                        {{#each this}}
                        <td class="py-3">
                            <div class="mb-3">
                                <h6>Unallocated Shfit 1 ({{this.sortedShift1.length}})</h6>
                                <div class="SAC">
                                    <ol>
                                        {{#each this.sortedShift1}}
                                        <li class="{{#isSAC this.fields.FullName}}{{/isSAC}}">
                                            {{this.fields.FullName}}
                                        </li>
                                        {{/each}}
                                    </ol>
                                </div>
                            </div>
                            <div>
                                <h6>Unallocated Shfit 2 ({{this.sortedShift2.length}})</h6>
                                <div class="SAC">
                                    <ol>
                                        {{#each this.sortedShift1}}
                                        <li class="{{#isSAC this.fields.FullName}}{{/isSAC}}">
                                            {{this.fields.FullName}}
                                        </li>
                                        {{/each}}
                                    </ol>
                                </div>
                            </div>
                        </td>
                        {{/each}}
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
    </div>
</div>
{{else}}
<div>
    <h3 class="text-danger text-center">Please select a month</h3>
</div>
{{/if}}